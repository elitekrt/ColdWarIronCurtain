communist_International_aid_category = {
    send_tanks_to_vietnam = {
        available = {
           has_government = communism
            
            NOT = {
                tag = VIN
            }

            has_equipment = {mbt_equipment > 99}
            VIN = {
                exists = yes
            }
        }
        visible = {
            has_government = communism 
            VIN = {
                exists = yes
            }
        }
        cost = 5
        days_remove = 30
        days_re_enable = 90

        remove_effect = {
            send_equipment = {
                target = VIN 
                type = mbt_equipment
                amount = 100
            }
            VIN = {
                for_loop_effect = {
                    end = influence_array^num
                    value = v
                    if = {
                        limit = {
                            check_variable = { influence_array^v = ROOT.id }
                        }
                        add_to_variable = { influence_array_val^v = 150 }
                        set_country_flag = found
                    }
                }
                if = {
                    limit = { NOT = { has_country_flag = found } }
                        add_to_array = { influence_array = ROOT.id }
                        add_to_array = { influence_array_val = 150 }
                }
                clr_country_flag = found
                recalculate_influence = yes                
            }
        }
    }
    send_guns_to_vietnam = {
        available = {
            has_government = communism  
            VIN = {
                exists = yes
            }
            NOT = {
                tag = VIN
            }
            has_equipment = {infantry_equipment > 1499}
        }
        visible = {
            has_government = communism 
            VIN = {
                exists = yes
            }
        }
        cost = 5
        days_remove = 30
        days_re_enable = 90

        remove_effect = {
            send_equipment = {
                target = VIN 
                type = infantry_equipment
                amount = 1500
            }
            VIN = {
                for_loop_effect = {
                    end = influence_array^num
                    value = v
                    if = {
                        limit = {
                            check_variable = { influence_array^v = ROOT.id }
                        }
                        add_to_variable = { influence_array_val^v = 150 }
                        set_country_flag = found
                    }
                }
                if = {
                    limit = { NOT = { has_country_flag = found } }
                        add_to_array = { influence_array = ROOT.id }
                        add_to_array = { influence_array_val = 150 }
                }
                clr_country_flag = found
                recalculate_influence = yes                
            }
        }
    }
    send_artillery_to_vietnam = {
        available = {
            has_government = communism  
            VIN = {
                exists = yes
            }
            has_equipment = {artillery_equipment > 249}
            NOT = {
                tag = VIN
            }
        }
        visible = {
            has_government = communism 
            VIN = {
                exists = yes
            }
        }
        cost = 5
        days_remove = 30
        days_re_enable = 90

        remove_effect = {
            send_equipment = {
                target = VIN 
                type = artillery_equipment
                amount = 250
            }
        }
    }
    send_support_equipment_to_vietnam = {
        available = {
            NOT = {
                tag = VIN
            }
            has_government = communism  
            VIN = {
                exists = yes
            }
            has_equipment = {support_equipment > 99}
        }
        visible = {
            has_government = communism 
            VIN = {
                exists = yes
            }
        }
        cost = 5
        days_remove = 30
        days_re_enable = 90

        remove_effect = {
            send_equipment = {
                target = VIN 
                type = support_equipment
                amount = 100
            }
            VIN = {
                for_loop_effect = {
                    end = influence_array^num
                    value = v
                    if = {
                        limit = {
                            check_variable = { influence_array^v = ROOT.id }
                        }
                        add_to_variable = { influence_array_val^v = 150 }
                        set_country_flag = found
                    }
                }
                if = {
                    limit = { NOT = { has_country_flag = found } }
                        add_to_array = { influence_array = ROOT.id }
                        add_to_array = { influence_array_val = 150 }
                }
                clr_country_flag = found
                recalculate_influence = yes                
            }
        }
    }
    send_direct_fire_gun_to_vietnam = {
        available = {
            NOT = {
                tag = VIN
            }
            has_government = communism  
            VIN = {
                exists = yes
            }
            has_equipment = {direct_fire_gun_equipment > 99}
        }
        visible = {
            has_government = communism 
            VIN = {
                exists = yes
            }
        }
        cost = 5
        days_remove = 30
        days_re_enable = 90

        remove_effect = {
            send_equipment = {
                target = VIN 
                type = direct_fire_gun_equipment
                amount = 100
            }
            VIN = {
                for_loop_effect = {
                    end = influence_array^num
                    value = v
                    if = {
                        limit = {
                            check_variable = { influence_array^v = ROOT.id }
                        }
                        add_to_variable = { influence_array_val^v = 150 }
                        set_country_flag = found
                    }
                }
                if = {
                    limit = { NOT = { has_country_flag = found } }
                        add_to_array = { influence_array = ROOT.id }
                        add_to_array = { influence_array_val = 150 }
                }
                clr_country_flag = found
                recalculate_influence = yes                
            }
        }
    }
    send_trucks_to_vietnam = {
        available = {
            NOT = {
                tag = VIN
            }
            has_government = communism  
            VIN = {
                exists = yes
            }
            has_equipment = {motorized_equipment > 149}
        }
        visible = {
            has_government = communism 
            VIN = {
                exists = yes
            }
        }
        cost = 5
        days_remove = 30
        days_re_enable = 90

        remove_effect = {
            send_equipment = {
                target = VIN 
                type = motorized_equipment
                amount = 150
            }
            VIN = {
                for_loop_effect = {
                    end = influence_array^num
                    value = v
                    if = {
                        limit = {
                            check_variable = { influence_array^v = ROOT.id }
                        }
                        add_to_variable = { influence_array_val^v = 150 }
                        set_country_flag = found
                    }
                }
                if = {
                    limit = { NOT = { has_country_flag = found } }
                        add_to_array = { influence_array = ROOT.id }
                        add_to_array = { influence_array_val = 150 }
                }
                clr_country_flag = found
                recalculate_influence = yes                
            }
        }
    }
}
communist_International_aid_category = {
    send_tanks_to_vietnam = {
        available = {
           has_government = maoism
            

            has_equipment = {mbt_equipment > 99}
            VIN = {
                exists = yes
            }
        }
        visible = {
            has_government = maoism 
            VIN = {
                exists = yes
            }
        }
        cost = 5
        days_remove = 30
        days_re_enable = 90

        remove_effect = {
            send_equipment = {
                target = VIN 
                type = mbt_equipment
                amount = 100
            }
        }
    }
    send_guns_to_vietnam = {
        available = {
            has_government = maoism  
            VIN = {
                exists = yes
            }
            has_equipment = {infantry_equipment > 1499}
        }
        visible = {
            has_government = maoism 
            VIN = {
                exists = yes
            }
        }
        cost = 5
        days_remove = 30
        days_re_enable = 90

        remove_effect = {
            send_equipment = {
                target = VIN 
                type = infantry_equipment
                amount = 1500
            }
            VIN = {
                for_loop_effect = {
                    end = influence_array^num
                    value = v
                    if = {
                        limit = {
                            check_variable = { influence_array^v = ROOT.id }
                        }
                        add_to_variable = { influence_array_val^v = 150 }
                        set_country_flag = found
                    }
                }
                if = {
                    limit = { NOT = { has_country_flag = found } }
                        add_to_array = { influence_array = ROOT.id }
                        add_to_array = { influence_array_val = 150 }
                }
                clr_country_flag = found
                recalculate_influence = yes                
            }
        }
    }
    send_artillery_to_vietnam = {
        available = {
            has_government = maoism  
            VIN = {
                exists = yes
            }
            has_equipment = {artillery_equipment > 249}
        }
        visible = {
            has_government = maoism 
            VIN = {
                exists = yes
            }
        }
        cost = 5
        days_remove = 30
        days_re_enable = 90

        remove_effect = {
            send_equipment = {
                target = VIN 
                type = artillery_equipment
                amount = 250
            }
            VIN = {
                for_loop_effect = {
                    end = influence_array^num
                    value = v
                    if = {
                        limit = {
                            check_variable = { influence_array^v = ROOT.id }
                        }
                        add_to_variable = { influence_array_val^v = 150 }
                        set_country_flag = found
                    }
                }
                if = {
                    limit = { NOT = { has_country_flag = found } }
                        add_to_array = { influence_array = ROOT.id }
                        add_to_array = { influence_array_val = 150 }
                }
                clr_country_flag = found
                recalculate_influence = yes                
            }
        }
    }
    send_support_equipment_to_vietnam = {
        available = {
            has_government = maoism  
            VIN = {
                exists = yes
            }
            has_equipment = {support_equipment > 99}
        }
        visible = {
            has_government = maoism 
            VIN = {
                exists = yes
            }
        }
        cost = 5
        days_remove = 30
        days_re_enable = 90

        remove_effect = {
            send_equipment = {
                target = VIN 
                type = support_equipment
                amount = 100
            }
            VIN = {
                for_loop_effect = {
                    end = influence_array^num
                    value = v
                    if = {
                        limit = {
                            check_variable = { influence_array^v = ROOT.id }
                        }
                        add_to_variable = { influence_array_val^v = 150 }
                        set_country_flag = found
                    }
                }
                if = {
                    limit = { NOT = { has_country_flag = found } }
                        add_to_array = { influence_array = ROOT.id }
                        add_to_array = { influence_array_val = 150 }
                }
                clr_country_flag = found
                recalculate_influence = yes                
            }
        }
    }
    send_direct_fire_gun_to_vietnam = {
        available = {
            has_government = maoism  
            VIN = {
                exists = yes
            }
            has_equipment = {direct_fire_gun_equipment > 99}
        }
        visible = {
            has_government = maoism 
            VIN = {
                exists = yes
            }
        }
        cost = 5
        days_remove = 30
        days_re_enable = 90

        remove_effect = {
            send_equipment = {
                target = VIN 
                type = direct_fire_gun_equipment
                amount = 100
            }
            VIN = {
                for_loop_effect = {
                    end = influence_array^num
                    value = v
                    if = {
                        limit = {
                            check_variable = { influence_array^v = ROOT.id }
                        }
                        add_to_variable = { influence_array_val^v = 150 }
                        set_country_flag = found
                    }
                }
                if = {
                    limit = { NOT = { has_country_flag = found } }
                        add_to_array = { influence_array = ROOT.id }
                        add_to_array = { influence_array_val = 150 }
                }
                clr_country_flag = found
                recalculate_influence = yes                
            }
        }
    }
    send_trucks_to_vietnam = {
        available = {
            has_government = maoism  
            VIN = {
                exists = yes
            }
            has_equipment = {motorized_equipment > 149}
        }
        visible = {
            has_government = maoism 
            VIN = {
                exists = yes
            }
        }
        cost = 5
        days_remove = 30
        days_re_enable = 90

        remove_effect = {
            send_equipment = {
                target = VIN 
                type = motorized_equipment
                amount = 150
            }
            VIN = {
                for_loop_effect = {
                    end = influence_array^num
                    value = v
                    if = {
                        limit = {
                            check_variable = { influence_array^v = ROOT.id }
                        }
                        add_to_variable = { influence_array_val^v = 150 }
                        set_country_flag = found
                    }
                }
                if = {
                    limit = { NOT = { has_country_flag = found } }
                        add_to_array = { influence_array = ROOT.id }
                        add_to_array = { influence_array_val = 150 }
                }
                clr_country_flag = found
                recalculate_influence = yes                
            }
        }
    }
}